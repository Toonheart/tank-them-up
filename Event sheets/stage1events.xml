<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>stage1events</name>
    <events>
        <include>LevelFailed</include>
        <include>LevelComplete</include>
        <include>HealthSystem</include>
        <include>EnemyAI</include>
        <include>Debug</include>
        <include>Collectibles</include>
        <include>AmmoSystem</include>
        <include>Collisions</include>
        <include>UserControls</include>
        <comment>STAGE 1 - EVENT SHEET</comment>
        <event-group description="Stuff that needs to make the game smooth." title="Game Stability Stuff">
            <sub-events>
                <comment>Keep turret hovering over the tank.&#x0D;&#x0A;Keep shadow stuck to tank.&#x0D;&#x0A;Set FPS coounter and Ammo Counts</comment>
                <event-block>
                    <conditions>
                        <condition id="-1" name="Every tick" type="System" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" type="playertank_turret">
                            <param id="0" name="X">playertank.X</param>
                            <param id="1" name="Y">playertank.Y</param>
                        </action>
                        <action id="-4" name="Set position to another object" type="planertankshadow">
                            <param id="0" name="Object">playertank</param>
                            <param id="1" name="Image point (optional)">1</param>
                        </action>
                        <action id="-8" name="Set angle" type="planertankshadow">
                            <param id="0" name="Angle">playertank.Angle</param>
                        </action>
                        <action id="-24" name="Move to top" type="playertank" />
                        <action id="0" name="Set text" type="fpscounter">
                            <param id="0" name="Text">fps &amp; &quot; FPS (&quot; &amp; renderer &amp; &quot;)&quot;</param>
                        </action>
                        <action id="0" name="Set text" type="AmmoCntPrimary">
                            <param id="0" name="Text">playertank.primaryAmmo</param>
                        </action>
                        <action id="0" name="Set text" type="AmmoCntSecondary">
                            <param id="0" name="Text">playertank.secondaryAmmo</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Allows spawning of bullet, explosion, forcefield, lineofsight objects later.  Also Set Range of Player to WindowWidth.. so it dynamically differs for different devices.&#x0D;&#x0A;Range can also be changed to hard values depending on different enemy.. lets say later if you want an enemy who can shoot you from any distance.</comment>
                <event-block>
                    <conditions>
                        <condition id="-2" name="On start of layout" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" type="normalbullet" />
                        <action id="-9" name="Destroy" type="explosion" />
                        <action id="-9" name="Destroy" type="forcefield" />
                        <action id="-9" name="Destroy" type="airplane" />
                        <action id="-9" name="Destroy" type="missile" />
                        <action id="-9" name="Destroy" type="playersmine" />
                        <action id="-9" name="Destroy" type="textleveldone" />
                        <action id="-9" name="Destroy" type="gameovertryagain" />
                        <action id="-9" name="Destroy" type="yesButton" />
                        <action id="-9" name="Destroy" type="noButton" />
                        <action id="-8" name="Set angle" type="playertank">
                            <param id="0" name="Angle">270</param>
                        </action>
                        <action id="-8" name="Set angle" type="playertank_turret">
                            <param id="0" name="Angle">270</param>
                        </action>
                        <action id="-8" name="Set angle" type="planertankshadow">
                            <param id="0" name="Angle">270</param>
                        </action>
                        <action id="-10" name="Set value" type="enemytower">
                            <param id="0" name="Instance variable">range</param>
                            <param id="1" name="Value">2048</param>
                        </action>
                        <action id="-10" name="Set value" type="enemytank">
                            <param id="0" name="Instance variable">range</param>
                            <param id="1" name="Value">600</param>
                        </action>
                        <action id="-9" name="Destroy" type="lineofsight" />
                        <action id="0" name="Spawn another object" type="enemytower">
                            <param id="0" name="Object">lineofsight</param>
                            <param id="1" name="Layer">1</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="0" name="Spawn another object" type="enemytank">
                            <param id="0" name="Object">lineofsight</param>
                            <param id="1" name="Layer">1</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="-10" name="Set value" type="playertank">
                            <param id="0" name="Instance variable">primaryAmmo</param>
                            <param id="1" name="Value">99</param>
                        </action>
                        <action id="-10" name="Set value" type="playertank">
                            <param id="0" name="Instance variable">secondaryAmmo</param>
                            <param id="1" name="Value">5</param>
                        </action>
                        <action id="-10" name="Set value" type="playertank">
                            <param id="0" name="Instance variable">health</param>
                            <param id="1" name="Value">70</param>
                        </action>
                        <action id="4" name="Preload" type="Audio">
                            <param id="0" name="Audio file">dropmine</param>
                        </action>
                        <action id="4" name="Preload" type="Audio">
                            <param id="0" name="Audio file">metalexplosion</param>
                        </action>
                        <action id="4" name="Preload" type="Audio">
                            <param id="0" name="Audio file">missle</param>
                        </action>
                        <action id="4" name="Preload" type="Audio">
                            <param id="0" name="Audio file">tankfire</param>
                        </action>
                        <action id="4" name="Preload" type="Audio">
                            <param id="0" name="Audio file">smallexplosion</param>
                        </action>
                        <action id="4" name="Preload" type="Audio">
                            <param id="0" name="Audio file">backgroundtheme1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Allows tank to shoot again if bullet is out of the game. Also stops potential slowing down if more and more bullets zoom off forever.</comment>
                <event-block disabled="1">
                    <conditions>
                        <condition id="-4" name="Is outside layout" type="normalbullet" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" type="normalbullet" />
                        <action id="-9" name="Destroy" type="airplane" />
                        <action id="-9" name="Destroy" type="missile" />
                    </actions>
                </event-block>
                <event-block>
                    <conditions>
                        <condition id="-25" name="On loading finished" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Play" type="Audio">
                            <param id="0" name="Audio file">backgroundtheme1</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;theme&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
