<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>UserControls</name>
    <events>
        <variable comment="Time for reverse gear engaging" constant="0" name="ReverseGearEngageTime" sid="1069" static="0" type="number">0</variable>
        <event-group description="movement controls" sid="1037" title="Movement">
            <sub-events>
                <comment>Movement and Navigation Controls</comment>
                <event-block sid="1767">
                    <conditions>
                        <condition behavior="Car" id="0" name="Is moving" sid="1768" type="playertank" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="1769" type="playertank">
                            <param id="0" name="Animation">&quot;accelerate&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1770">
                    <conditions>
                        <condition behavior="Car" id="0" inverted="1" name="Is moving" sid="1771" type="playertank" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="1772" type="playertank">
                            <param id="0" name="Animation">&quot;default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1038">
                    <conditions>
                        <condition id="4" name="Is touching object" sid="1039" type="Touch">
                            <param id="0" name="Object">dpadUP</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Car" id="7" name="Simulate control" sid="1040" type="playertank">
                            <param id="0" name="Control">2</param>
                        </action>
                        <action behavior="Car" id="6" name="Set deceleration" sid="1099" type="playertank">
                            <param id="0" name="Deceleration">0</param>
                        </action>
                        <action disabled="1" id="-13" name="Set boolean" sid="1087" type="playertank">
                            <param id="0" name="Instance variable">ReverseGearEngaged</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action disabled="1" id="-9" name="Set value" sid="1090" type="System">
                            <param id="0" name="Variable">ReverseGearEngageTime</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action disabled="1" id="-13" name="Set boolean" sid="1041" type="playertank">
                            <param id="0" name="Instance variable">PrevTouch_Accelerator</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Forward Gear is ALWAYS ON after USER FEEDBACK</comment>
                <event-block sid="1042">
                    <conditions>
                        <condition id="4" name="Is touching object" sid="1043" type="Touch">
                            <param id="0" name="Object">dpadRIGHT</param>
                        </condition>
                        <condition disabled="1" id="-8" name="Is boolean instance variable set" sid="1044" type="playertank">
                            <param id="0" name="Instance variable">PrevTouch_Accelerator</param>
                        </condition>
                        <condition disabled="1" id="-8" inverted="1" name="Is boolean instance variable set" sid="1088" type="playertank">
                            <param id="0" name="Instance variable">ReverseGearEngaged</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Car" id="7" name="Simulate control" sid="1045" type="playertank">
                            <param id="0" name="Control">1</param>
                        </action>
                        <action behavior="Car" id="7" name="Simulate control" sid="1046" type="playertank">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="1047">
                    <conditions>
                        <condition id="4" name="Is touching object" sid="1048" type="Touch">
                            <param id="0" name="Object">dpadLEFT</param>
                        </condition>
                        <condition disabled="1" id="-8" name="Is boolean instance variable set" sid="1049" type="playertank">
                            <param id="0" name="Instance variable">PrevTouch_Accelerator</param>
                        </condition>
                        <condition disabled="1" id="-8" inverted="1" name="Is boolean instance variable set" sid="1089" type="playertank">
                            <param id="0" name="Instance variable">ReverseGearEngaged</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Car" id="7" name="Simulate control" sid="1050" type="playertank">
                            <param id="0" name="Control">0</param>
                        </action>
                        <action behavior="Car" id="7" name="Simulate control" sid="1051" type="playertank">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Reverse Gear DEACTIVATED after USER FEEDBACK</comment>
                <event-block disabled="1" sid="1052">
                    <conditions>
                        <condition id="4" name="Is touching object" sid="1053" type="Touch">
                            <param id="0" name="Object">dpadRIGHT</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="1054" type="playertank">
                            <param id="0" name="Instance variable">PrevTouch_Accelerator</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Car" id="7" name="Simulate control" sid="1055" type="playertank">
                            <param id="0" name="Control">1</param>
                        </action>
                        <action behavior="Car" id="7" name="Simulate control" sid="1056" type="playertank">
                            <param id="0" name="Control">3</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="1057">
                    <conditions>
                        <condition id="4" name="Is touching object" sid="1058" type="Touch">
                            <param id="0" name="Object">dpadLEFT</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="1059" type="playertank">
                            <param id="0" name="Instance variable">PrevTouch_Accelerator</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Car" id="7" name="Simulate control" sid="1060" type="playertank">
                            <param id="0" name="Control">0</param>
                        </action>
                        <action behavior="Car" id="7" name="Simulate control" sid="1061" type="playertank">
                            <param id="0" name="Control">3</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="1075">
                    <conditions>
                        <condition id="4" name="Is touching object" sid="1076" type="Touch">
                            <param id="0" name="Object">dpadRIGHT</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="1085" type="playertank">
                            <param id="0" name="Instance variable">ReverseGearEngaged</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Car" id="7" name="Simulate control" sid="1078" type="playertank">
                            <param id="0" name="Control">1</param>
                        </action>
                        <action behavior="Car" id="7" name="Simulate control" sid="1079" type="playertank">
                            <param id="0" name="Control">3</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="1080">
                    <conditions>
                        <condition id="4" name="Is touching object" sid="1081" type="Touch">
                            <param id="0" name="Object">dpadLEFT</param>
                        </condition>
                        <condition id="-8" name="Is boolean instance variable set" sid="1086" type="playertank">
                            <param id="0" name="Instance variable">ReverseGearEngaged</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Car" id="7" name="Simulate control" sid="1083" type="playertank">
                            <param id="0" name="Control">0</param>
                        </action>
                        <action behavior="Car" id="7" name="Simulate control" sid="1084" type="playertank">
                            <param id="0" name="Control">3</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Plain Reverse</comment>
                <event-block sid="1062">
                    <conditions>
                        <condition id="4" name="Is touching object" sid="1063" type="Touch">
                            <param id="0" name="Object">dpadDOWN</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Car" id="6" name="Set deceleration" sid="1098" type="playertank">
                            <param id="0" name="Deceleration">1500</param>
                        </action>
                        <action behavior="Car" id="7" name="Simulate control" sid="1064" type="playertank">
                            <param id="0" name="Control">3</param>
                        </action>
                        <action disabled="1" id="-13" name="Set boolean" sid="1065" type="playertank">
                            <param id="0" name="Instance variable">PrevTouch_Accelerator</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Reverse Gear ENGAGE</comment>
                <event-block disabled="1" sid="1091">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="1092" type="System">
                            <param id="0" name="Interval (seconds)">1.0</param>
                        </condition>
                        <condition id="4" name="Is touching object" sid="1093" type="Touch">
                            <param id="0" name="Object">dpadDOWN</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="1094" type="System">
                            <param id="0" name="Variable">ReverseGearEngageTime</param>
                            <param id="1" name="Value">ReverseGearEngageTime+1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="1095">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="1096" type="System">
                            <param id="0" name="Variable">ReverseGearEngageTime</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">3</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set boolean" sid="1097" type="playertank">
                            <param id="0" name="Instance variable">ReverseGearEngaged</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="Controls to fire or plant bombs" sid="357" title="Firing and Bombing Controls">
            <sub-events>
                <comment>Planting landmine on touching the tank</comment>
                <event-block sid="386">
                    <conditions>
                        <condition id="3" name="On touched object" sid="387" type="Touch">
                            <param id="0" name="Object">playertank</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="388">
                            <conditions>
                                <condition id="1" inverted="1" name="Is overlapping another object" sid="389" type="playertank">
                                    <param id="0" name="Object">playersmine</param>
                                </condition>
                                <condition id="2" inverted="1" name="Is pause" sid="390" type="Pause" />
                                <condition id="-7" name="Compare instance variable" sid="391" type="playertank">
                                    <param id="0" name="Instance variable">secondaryAmmo</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="392" type="Audio">
                                    <param id="0" name="Audio file">dropmine</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="1" name="Tag (optional)">&quot;dropmine&quot;</param>
                                </action>
                                <action id="0" name="Spawn another object" sid="393" type="playertank">
                                    <param id="0" name="Object">playersmine</param>
                                    <param id="1" name="Layer">1</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="-12" name="Subtract from" sid="394" type="playertank">
                                    <param id="0" name="Instance variable">secondaryAmmo</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="395">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="396" type="playertank">
                                    <param id="0" name="Instance variable">secondaryAmmo</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Flash" id="0" name="Flash" sid="397" type="AmmoCntSecondary">
                                    <param id="0" name="&apos;On&apos; time">0.25</param>
                                    <param id="1" name="&apos;Off&apos; time">0.25</param>
                                    <param id="2" name="Duration">2</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Deals with moving of turret and creating of bullet. &#x0D;&#x0A;Using On Touch END - to differenciate that touch is a tap. &#x0D;&#x0A;Can work just as well with Mouse object and Mouse.X and Mouse.Y</comment>
                <event-block sid="398">
                    <conditions>
                        <condition id="1" name="On any touch end" sid="399" type="Touch" />
                        <condition id="4" inverted="1" name="Is touching object" sid="400" type="Touch">
                            <param id="0" name="Object">dpadUP</param>
                        </condition>
                        <condition id="4" inverted="1" name="Is touching object" sid="401" type="Touch">
                            <param id="0" name="Object">dpadRIGHT</param>
                        </condition>
                        <condition id="4" inverted="1" name="Is touching object" sid="402" type="Touch">
                            <param id="0" name="Object">dpadLEFT</param>
                        </condition>
                        <condition id="4" inverted="1" name="Is touching object" sid="403" type="Touch">
                            <param id="0" name="Object">dpadDOWN</param>
                        </condition>
                        <condition id="2" inverted="1" name="Is pause" sid="404" type="Pause" />
                        <condition id="4" inverted="1" name="Is touching object" sid="405" type="Touch">
                            <param id="0" name="Object">hudHolder</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-22" name="Set angle toward position" sid="406" type="playertank_turret">
                            <param id="0" name="X">touch.X</param>
                            <param id="1" name="Y">touch.Y</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Counts how many bullets exist in the world. If less than 1, fire, otherwise, do nothing.&#x0D;&#x0A;CoolDown using Recoil Mechanism. If Recoiling, dont allow fire.</comment>
                        <event-block sid="407">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="408" type="playertank">
                                    <param id="0" name="Instance variable">primaryAmmo</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition id="2" inverted="1" name="Is playing" sid="409" type="playertank_turret">
                                    <param id="0" name="Animation">&quot;recoil&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Play" sid="410" type="Audio">
                                    <param id="0" name="Audio file">tankfire</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">5</param>
                                    <param id="1" name="Tag (optional)">&quot;playerfires&quot;</param>
                                </action>
                                <action id="4" name="Set animation" sid="411" type="playertank_turret">
                                    <param id="0" name="Animation">&quot;recoil&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="0" name="Spawn another object" sid="412" type="playertank_turret">
                                    <param id="0" name="Object">explosion</param>
                                    <param id="1" name="Layer">&quot;Turret&quot;</param>
                                    <param id="2" name="Image point">1</param>
                                </action>
                                <action id="9" name="Set scale" sid="413" type="explosion">
                                    <param id="0" name="Scale">0.5</param>
                                </action>
                                <action id="4" name="Set animation" sid="414" type="explosion">
                                    <param id="0" name="Animation">&quot;BlowUp&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="0" name="Spawn another object" sid="415" type="playertank_turret">
                                    <param id="0" name="Object">normalbullet</param>
                                    <param id="1" name="Layer">1</param>
                                    <param id="2" name="Image point">1</param>
                                </action>
                                <action id="-12" name="Subtract from" sid="416" type="playertank">
                                    <param id="0" name="Instance variable">primaryAmmo</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-16" name="Wait" sid="417" type="System">
                                    <param id="0" name="Seconds">0.5</param>
                                </action>
                                <action id="-9" name="Destroy" sid="418" type="explosion" />
                                <action id="4" name="Set animation" sid="419" type="playertank_turret">
                                    <param id="0" name="Animation">&quot;default&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="420">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="421" type="playertank">
                                    <param id="0" name="Instance variable">primaryAmmo</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Flash" id="0" name="Flash" sid="422" type="AmmoCntPrimary">
                                    <param id="0" name="&apos;On&apos; time">0.25</param>
                                    <param id="1" name="&apos;Off&apos; time">0.25</param>
                                    <param id="2" name="Duration">2</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="sounds on user controls" sid="423" title="Sounds on Controls">
            <sub-events>
                <event-block sid="424">
                    <conditions>
                        <condition behavior="Car" id="0" name="Is moving" sid="425" type="playertank" />
                    </conditions>
                    <actions />
                </event-block>
                <event-block sid="426">
                    <conditions>
                        <condition id="-22" name="Else" sid="427" type="System" />
                    </conditions>
                    <actions>
                        <action id="6" name="Stop" sid="428" type="Audio">
                            <param id="0" name="Tag">&quot;tankdriving&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="Controls on HUD" sid="1251" title="HUD Controls">
            <sub-events>
                <comment>Pause the Game</comment>
                <event-block sid="1252">
                    <conditions>
                        <condition id="3" name="On touched object" sid="1253" type="Touch">
                            <param id="0" name="Object">healthbar</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Toggle pause" sid="1254" type="Pause" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
